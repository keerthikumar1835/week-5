<!DOCTYPE html>
<html>
<head>
	<title>Form Validation</title>
<script type = "text/javascript">

var divs = new Array();
divs[0] = "errFirst";
divs[1] = "errMiddle";
divs[2] = "errLast";
divs[3] = "errEmail";
divs[4] = "errUid";
divs[5] = "errPassword";
divs[6] = "errConfirm";

function validate(){
	var inputs = new Array();
	inputs[0] = document.getElementById('firstname').value;
	inputs[1] = document.getElementById('middlename').value;
	inputs[2] = document.getElementById('lastname').value;
	inputs[3] = document.getElementById('email').value;
	inputs[4] = document.getElementById('uid').value;
	inputs[5] = document.getElementById('password').value;
	inputs[6] = document.getElementById('confirm').value;
	
	var errors = new Array();
	errors[0] = "<span style = 'color: red'>Please enter your first name!</span>";
	errors[1] = "<span style = 'color: red'>Please enter your middle name!</span>";
	errors[2] = "<span style = 'color: red'>Please enter your last name!</span>";
	errors[3] = "<span style = 'color: red'>Please enter your email id!</span>";
	errors[4] = "<span style = 'color: red'>Please enter your user id!</span>";
	errors[5] = "<span style = 'color: red'>Please enter your password!</span>";
	errors[6] = "<span style = 'color: red'>Please confirm your password!</span>";
	
	for(i in inputs)
		{
			var errMessage = errors[i];
			var div = divs[i];
			if(inputs[i] == "")
				document.getElementById(div).innerHTML = errMessage;
				
			else if(i == 3)
				{
					var atpos = inputs[i].indexOf("@");
					var dotpos = inputs[i].lastIndexOf(".");
					if(atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= inputs[i].length)
						document.getElementById('errEmail').innerHTML = "<span style = 'color: red'>Enter a valid email address!</span>";
						else
							document.getElementById(div).innerHTML = "OK!";
				}
			else if (i == 6)
				{
					var first = document.getElementById('password').value;
					var second = document.getElementById('confirm').value;
					if(second != first)
						document.getElementById('errConfirm').innerHTML = "<span style = 'color: red'>Passwords don't match!</span>";
						else
							document.getElementById(div).innerHTML = "OK!";
				}
			else
				document.getElementById(div).innerHTML = "OK!";
		}
	}
	
function finalValidate(){
	var count = 0;
	for(i = 0; i < 7; i++)
		{
			var div = divs[i];
			if(document.getElementById(div).innerHTML == "OK!")
			count = count+1;
		}
		
	if(count == 7)
		document.getElementById("errFinal").innerHTML = "All the data you have entered is correct!!!";
	}
</script>

<body style = 'background: GhostWhite'/>
<h1><b><center>FORM VALIDATION</center></b></h1>
<table id = 'table1'>
	<tr>
		<td>First Name</td>
		<td><input type = "text" id = "firstname" onkeyup = "validate();"/></td>
		<td><div id = "errFirst"></div></td>
	</tr>
	
	<tr>
		<td>Middle Name</td>
		<td><input type = "text" id = "middlename" onkeyup = "validate();"/></td>
		<td><div id = "errMiddle"></div></td>
	</tr>
	
	<tr>
		<td>Last Name</td>
		<td><input type = "text" id = "lastname" onkeyup = "validate();"/></td>
		<td><div id = "errLast"></div></td>
	</tr>
	
	<tr>
		<td>Email</td>
		<td><input type = "text" id = "email" onkeyup = "validate();"/></td>
		<td><div id = "errEmail"></div></td>
	</tr>
	
	<tr>
		<td>User ID</td>
		<td><input type = "text" id = "uid" onkeyup = "validate();"/></td>
		<td><div id = "errUid"></div></td>
	</tr>
	
	<tr>
		<td>Password</td>
		<td><input type = "password" id = "password" onkeyup = "validate();"/></td>
		<td><div id = "errPassword"></div></td>
	</tr>
	
	<tr>
		<td>Confirm Password</td>
		<td><input type = "password" id = "confirm" onkeyup = "validate();"/></td>
		<td><div id = "errConfirm"></div></td>
	</tr>
	
	<tr>
		<td><input type = "button" id = "create" value = "Create" onclick = "validate(); finalValidate();"/></td>
		<td><div id = "errFinal"></div></td>
	</tr>
</table>
</body>
</html>
